{% extends 'base.html' %}
{% set active_page = "help" %}
{% block body_class %}main main-index{% endblock %}

{% block layout %}
<div class="row">
    <div class="col-md-8 col-md-offset-2" style="text-align: justify;">
        
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingOne">
                    <h4 class="panel-title">
                        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Experimental data file (input)
                        </a>
                    </h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <div class="panel-body">
                        <p>
                        Data files must have numeric values and contain 3 columns (q,I(q),err) separated with one or more spaces.
                        No headers or footters are allowed. The file must have txt or dat extension<br>
                        <br><br>
                            Example data file can be found
                            <a href="https://github.com/Andre-lab/bioce_webserver/blob/master/backend/bioce/data/exp_test_10pts.dat">here</a>
                            and
                            <a href="https://github.com/Andre-lab/bioce_webserver/blob/master/backend/bioce/data/SASDCQ2.dat">here</a>
                        <p>

                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingTwo">
                    <h4 class="panel-title">
                        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            PDB files (input)
                        </a>
                    </h4>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                    <div class="panel-body">
                        <p>
                            Data file must be an archive in .zip or .tar format and contain valid PDB files of conformational
                            ensembles. PDB files can be generated with any program. For our studies we generated models
                            using all-atom Monte Carlo simulations as implemented in Rosetta.
                            <br><br>
                            Example PDB archive file (*.zip) can be found
                            <a href="https://github.com/Andre-lab/bioce_webserver/blob/master/backend/bioce/data/pdbs.zip">here</a>
                        </p>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingThree">
                    <h4 class="panel-title">
                        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseTwo">
                            Simulated profiles (input)
                        </a>
                    </h4>
                </div>
                <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                    <div class="panel-body">
                        <p>
                        Intensity profiles can be either simulated "on-the-fly" with
                            <a href="https://team.inria.fr/nano-d/software/pepsi-saxs/">Pepsi-SAXS</a> method
                            or uploaded from your drive. If you want to use the latter option the file must have numeric
                            values and contain n x m columns (n = number of q points, m = number of models) separated with the space.
                            Profiles have to be simulated for the same q points as in experimental file and therefor their number
                            must be the same in both files (experimental and simulated profiles).
                            <br><br>
                            Example of simulated profiles for 10 q points and 5 structural models can be found
                            <a href="https://github.com/Andre-lab/bioce_webserver/blob/master/backend/bioce/data/SimulatedIntensities.txt">here</a>
                        </p>
                    </div>
                </div>
            </div>

                        <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingTwo">
                    <h4 class="panel-title">
                        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Jensen-Shannon divergence (output)
                        </a>
                    </h4>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                    <div class="panel-body">
                        <p>
                            Jensen-Shannon is a useful metric to measure the uncertainty of ensembles developed by (Fisher et al).
                            The expectation value of the Jensen-Shannon divergence relative to the optimal weights over
                            the posterior distribution can be defined as:<br>
                             <img style="width: 100%; height: auto; padding-bottom: 30px;" src="{{ url_for('static', filename='img/jsd1.png') }}"
                                  alt="{{ config['APP_NAME'] }}" title="{{ config['APP_NAME'] }}"><br>
                            where:
                            <img style="width: 100%; height: auto; padding-bottom: 30px;" src="{{ url_for('static', filename='img/jsd2.png') }}"
                                  alt="{{ config['APP_NAME'] }}" title="{{ config['APP_NAME'] }}">
                            and ranges between 0 and 1 for two maximally identical and different vectors.
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>


{% endblock %}